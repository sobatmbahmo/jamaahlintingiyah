<!DOCTYPE html>
<html>
<head>
    <title>Pencari ID Lokasi Biteship</title>
    <style>
        body { font-family: sans-serif; padding: 50px; background: #1a1a1a; color: white; text-align: center; }
        .box { background: #2d2d2d; padding: 20px; border-radius: 10px; border: 1px solid #d4af37; display: inline-block; }
        button { background: #d4af37; color: black; padding: 10px 20px; border: none; cursor: pointer; font-weight: bold; }
        #hasil { margin-top: 20px; text-align: left; background: black; padding: 15px; border-radius: 5px; color: #00ff00; }
    </style>
</head>
<body>
    <div class="box">
        <h2>Cek ID Lokasi Anda</h2>
        <p>Klik tombol di bawah untuk melihat ID Alamat Rusunawa Anda</p>
        <button onclick="cariID()">TAMPILKAN ID SAYA</button>
        <div id="hasil">Menunggu perintah...</div>
    </div>

    <script>
        async function cariID() {
            const API_KEY = 'biteship_live.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiSkFNQUFITElOVElOR0lZQUgiLCJ1c2VySWQiOiI2OTdlNjQ0Y2RmMTUwNDMwOWM0ZWI1YjMiLCJpYXQiOjE3Njk4OTE0OTh9.ko5L08aova8b2N8rJ1roFKIsKZeUpqMPdjJx7jZjjos'; // Kode ini akan otomatis pakai key Anda jika sudah ada di app.js
            const hasilDiv = document.getElementById('hasil');
            hasilDiv.innerText = "Sedang mencari...";

            try {
                const response = await fetch('https://api.biteship.com/v1/maps/origins', {
                    headers: { 'Authorization': 'biteship_live.eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiSkFNQUFITElOVElOR0lZQUgiLCJ1c2VySWQiOiI2OTdlNjQ0Y2RmMTUwNDMwOWM0ZWI1YjMiLCJpYXQiOjE3Njk4OTE0OTh9.ko5L08aova8b2N8rJ1roFKIsKZeUpqMPdjJx7jZjjos' } // Ganti dengan Key Live Anda
                });
                const data = await response.json();
                
                if (data.success && data.origins.length > 0) {
                    let html = "<strong>ID Ditemukan:</strong><br><br>";
                    data.origins.forEach(loc => {
                        html += `Nama: ${loc.name}<br>ID: <code style="color:yellow">${loc.id}</code><br><hr>`;
                    });
                    hasilDiv.innerHTML = html;
                } else {
                    hasilDiv.innerText = "Tidak ada alamat ditemukan. Pastikan sudah input alamat di Dashboard Biteship.";
                }
            } catch (err) {
                hasilDiv.innerText = "Error: Gagal memanggil data. Cek API Key Anda.";
            }
        }
    </script>
</body>
</html>
